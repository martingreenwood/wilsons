function sortlist(){var e=document.getElementById("vehicle_makes"),t=new Array;for(i=1;i<e.length;i++)t[i-1]=e.options[i].text.toUpperCase()+","+e.options[i].text+","+e.options[i].value+","+e.options[i].selected;for(t.sort(),i=1;i<e.length;i++){var n=t[i-1].split(",");e.options[i].text=n[1],e.options[i].value=n[2],"true"==n[3]?e.options[i].selected=!0:e.options[i].selected=!1}}$j=jQuery,$j(function(){$j(".column").matchHeight(),$j(".left-column .column").matchHeight(),$j(".right-column .column").matchHeight(),$j("#left-section .column").matchHeight(),$j("#right-section .column").matchHeight()}),$j(function(){$j(".slick").slick({fade:!0,autoplay:8e3,infinite:!0,speed:500,cssEase:"linear"})}),$j(function(){$j(".popup").fancybox({maxWidth:800,maxHeight:600,fitToView:!1,width:"70%",height:"70%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none"})}),$j("#vehicle_types").change(function(){$j("#loading").addClass("show");var e=document.getElementById("vehicle_types").value,t=document.getElementById("vehicle_makes");document.getElementById("vehicle_makes").options.length=0,document.getElementById("vehicle_makes").innerHTML='<option value="">Select make...</option>';var i=null,n=new XMLHttpRequest;n.open("GET","wp-json/wp/v2/cars?filter[vehicle_type]="+e),n.send(i),n.addEventListener("readystatechange",function(){if(this.readyState===this.DONE){var e=JSON.parse(this.responseText),t=JSON.stringify(e);for(var i in e){var n=e[i],o=n.vehicle_make,s=null,a=new XMLHttpRequest,l=null;a.open("GET","wp-json/wp/v2/vehicle_make/"+o),a.send(s),a.addEventListener("readystatechange",function(){if(this.readyState===this.DONE){var e=JSON.parse(this.responseText),t=e.name,i=e.slug;l='<option value="'+i+'">'+t+"</option>",document.getElementById("vehicle_makes").innerHTML+=l,sortlist()}})}setTimeout(function(){$j("#loading").removeClass("show")},800)}})});